{"version":3,"file":"lit-element-renderer.js","sourceRoot":"","sources":["../src/lib/lit-element-renderer.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,OAAO,EAAC,eAAe,EAAC,MAAM,uBAAuB,CAAC;AACtD,OAAO,EAAwB,eAAe,EAAC,MAAM,KAAK,CAAC;AAC3D,OAAO,EAAC,IAAI,EAAC,MAAM,oCAAoC,CAAC;AACxD,OAAO,EAAC,MAAM,EAAa,MAAM,sBAAsB,CAAC;AAIxD,MAAM,EAAC,mBAAmB,EAAE,iBAAiB,EAAC,GAAG,IAAI,CAAC;AAEtD;;GAEG;AACH,MAAM,OAAO,kBAAmB,SAAQ,eAAe;IAQrD,YAAY,OAAe;QACzB,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAE,CAAC,EAAgB,CAAC;IACzE,CAAC;IARD,MAAM,CAAU,YAAY,CAAC,IAAwB;QACnD,4CAA4C;QAC5C,OAAQ,IAAqC,CAAC,eAAe,CAAC,CAAC;IACjE,CAAC;IAOD,iBAAiB;QACf,yCAAyC;QACzC,qDAAqD;QACrD,8DAA8D;QAC7D,IAAI,CAAC,OAAe,EAAE,UAAU,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAc,CAAC,CAAC,CAAC;QAC1E,qEAAqE;QACrE,2CAA2C;QAC3C,8DAA8D;QAC7D,eAAe,CAAC,SAAiB,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC/D,CAAC;IAED,wBAAwB,CACtB,IAAY,EACZ,IAAmB,EACnB,KAAoB;QAEpB,mBAAmB,CAAC,IAAI,CAAC,OAAqB,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;IAC/D,CAAC;IAED,CAAC,YAAY,CAAC,UAAsB;QAClC,iBAAiB;QACjB,MAAM,MAAM,GAAI,IAAI,CAAC,OAAO,CAAC,WAAiC;aAC3D,aAAa,CAAC;QACjB,IAAI,MAAM,KAAK,SAAS,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;YAC7C,MAAM,SAAS,CAAC;YAChB,KAAK,MAAM,KAAK,IAAI,MAAM,EAAE;gBAC1B,MAAO,KAAmB,CAAC,OAAO,CAAC;aACpC;YACD,MAAM,UAAU,CAAC;SAClB;QACD,kBAAkB;QAClB,8DAA8D;QAC9D,KAAK,CAAC,CAAC,MAAM,CAAE,IAAI,CAAC,OAAe,CAAC,MAAM,EAAE,EAAE,UAAU,CAAC,CAAC;IAC5D,CAAC;IAED,CAAC,WAAW,CAAC,UAAsB;QACjC,8DAA8D;QAC9D,MAAM,KAAK,GAAI,IAAI,CAAC,OAAe,EAAE,WAAW,EAAE,CAAC;QACnD,IAAI,KAAK,EAAE;YACT,KAAK,CAAC,CAAC,MAAM,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;SAClC;aAAM;YACL,MAAM,EAAE,CAAC;SACV;IACH,CAAC;CACF","sourcesContent":["/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\nimport {ElementRenderer} from './element-renderer.js';\nimport {LitElement, CSSResult, ReactiveElement} from 'lit';\nimport {_$LE} from 'lit-element/private-ssr-support.js';\nimport {render, RenderInfo} from './render-lit-html.js';\n\nexport type Constructor<T> = {new (): T};\n\nconst {attributeToProperty, changedProperties} = _$LE;\n\n/**\n * ElementRenderer implementation for LitElements\n */\nexport class LitElementRenderer extends ElementRenderer {\n  override element: LitElement;\n\n  static override matchesClass(ctor: typeof HTMLElement) {\n    // This property needs to remain unminified.\n    return (ctor as unknown as typeof LitElement)['_$litElement$'];\n  }\n\n  constructor(tagName: string) {\n    super(tagName);\n    this.element = new (customElements.get(this.tagName)!)() as LitElement;\n  }\n\n  connectedCallback() {\n    // Call LitElement's `willUpdate` method.\n    // Note, this method is required not to use DOM APIs.\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (this.element as any)?.willUpdate(changedProperties(this.element as any));\n    // Reflect properties to attributes by calling into ReactiveElement's\n    // update, which _only_ reflects attributes\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (ReactiveElement.prototype as any).update.call(this.element);\n  }\n\n  attributeChangedCallback(\n    name: string,\n    _old: string | null,\n    value: string | null\n  ) {\n    attributeToProperty(this.element as LitElement, name, value);\n  }\n\n  *renderShadow(renderInfo: RenderInfo): IterableIterator<string> {\n    // Render styles.\n    const styles = (this.element.constructor as typeof LitElement)\n      .elementStyles;\n    if (styles !== undefined && styles.length > 0) {\n      yield '<style>';\n      for (const style of styles) {\n        yield (style as CSSResult).cssText;\n      }\n      yield '</style>';\n    }\n    // Render template\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    yield* render((this.element as any).render(), renderInfo);\n  }\n\n  *renderLight(renderInfo: RenderInfo): IterableIterator<string> {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const value = (this.element as any)?.renderLight();\n    if (value) {\n      yield* render(value, renderInfo);\n    } else {\n      yield '';\n    }\n  }\n}\n"]}